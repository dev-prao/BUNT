<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.baseball.bunt.model.dao.ItemDao">

    <insert id="insertItem" parameterType="Item">
        INSERT INTO ITEM(team_id, name, price, stock_quantity, image_path, category, item_detail)
        VALUES (#{teamId}, #{name}, #{price}, #{stockQuantity}, #{imagePath}, #{category},
                #{itemDetail})
    </insert>

    <update id="updateItem" parameterType="Item">
        UPDATE ITEM
        SET team_id=#{teamId},
            name=#{name},
            price=#{price},
            stock_quantity=#{stockQuantity},
            image_path=#{imagePath},
            category=#{category},
            item_detail=#{itemDetail},
            mod_date=NOW();
    </update>

    <select id="selectItemByItemId" parameterType="Integer" resultType="Item">
        SELECT *
        FROM ITEM
        WHERE item_id = #{itemId}
    </select>

    <select id="selectItemByName" parameterType="String" resultType="Item">
        SELECT *
        FROM ITEM
        WHERE name = #{name};
    </select>

    <select id="selectItemList" resultType="Item">
        SELECT *
        FROM ITEM;
    </select>

    <delete id="deleteItem" parameterType="Integer">
        DELETE
        FROM ITEM
        WHERE item_id = #{itemId}
    </delete>

    <update id="updateImage" parameterType="String">
        UPDATE ITEM
        SET image_path=#{imagePath}
        WHERE item_id = #{itemId};
    </update>
</mapper>
